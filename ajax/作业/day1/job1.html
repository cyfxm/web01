<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        li{
            width: 50px;
            height: 50px;
            /* background: #000; */
            list-style: none;
            border-radius: 50%;
            border: 1px solid red;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div>
        <ul id="list">
            <li class="li1"></li>
            <li class="li2"></li>
            <li class="li3"></li>
        </ul>
    </div>

    <script>
        var li1 = document.getElementsByClassName("li1")[0];
        var li2 = document.getElementsByClassName("li2")[0];
        var li3 = document.getElementsByClassName("li3")[0];
        var listContent = document.getElementById("list");
        // console.log(x++);
        console.log(isNaN(parseFloat("45abc")));
        
        
        li1.onclick = function(){
            var xhr = new XMLHttpRequest();
            // 2.0 发起请求动作
            // 参数1：请求数据的方式  参数2：请求数据地址 参数3：布尔值（判断是否异步的）
            xhr.open('get','./json/red.txt',true);
            // 3.0 发送请求主体（向服务端发送请求）
            // 如果是get请求方式  xhr.send(填写null)
            xhr.send(null);
            // 4.0 监听请求和响应的状态
            xhr.onreadystatechange = function(){
                // 5.0 表示请求完成的属性（状态值） 等于4表示完成
                if(xhr.readyState === 4 ){
                    // 6.0 表示响应成功的属性（状态值） 状态码列表 等于200表示成功
                    if(xhr.status === 200){// 404 、 500 、
                        // 7.0 服务端响应的数据
                        var res = xhr.responseText;
                        // 8.0 JSON有个方法 可以把json格式的字符串转成json对象
                        // json数据
                        var data = JSON.parse(res);
                        console.log(data);

                        // 定义空字符串
                        // var html = "";
                        // 循环数据 data
                        for(var i = 0 ; i < data.length ; i ++){
                            // 字符串的拼接
                            // html += "<li style='background-color:"+data[i].color+";'></li>"
                            li1.style.backgroundColor=data[i].color
                            li1.style.position = data[i].position
                            li1.style.top = data[i].top
                            li1.style.left = data[i].left
                        }
                        // 渲染字符串
                        // listContent.innerHTML = html;
                        // 当前点击的选项 高亮
                    }
                }
            }
        }

        li2.onclick = function(){
            var xhr = new XMLHttpRequest();
            // 2.0 发起请求动作
            // 参数1：请求数据的方式  参数2：请求数据地址 参数3：布尔值（判断是否异步的）
            xhr.open('get','./json/blue.txt',true);
            // 3.0 发送请求主体（向服务端发送请求）
            // 如果是get请求方式  xhr.send(填写null)
            xhr.send(null);
            // 4.0 监听请求和响应的状态
            xhr.onreadystatechange = function(){
                // 5.0 表示请求完成的属性（状态值） 等于4表示完成
                if(xhr.readyState === 4 ){
                    // 6.0 表示响应成功的属性（状态值） 状态码列表 等于200表示成功
                    if(xhr.status === 200){// 404 、 500 、
                        // 7.0 服务端响应的数据
                        var res = xhr.responseText;
                        // 8.0 JSON有个方法 可以把json格式的字符串转成json对象
                        // json数据
                        var data = JSON.parse(res);
                        console.log(data);

                        // 定义空字符串
                        // var html = "";
                        // 循环数据 data
                        for(var i = 0 ; i < data.length ; i ++){
                            // 字符串的拼接
                            console.log(data[i]);
                            
                            li2.style.backgroundColor= data[i].color
                            li2.style.position = data[i].position
                            li2.style.top = data[i].top
                            li2.style.left = data[i].left
                        }
                        // 渲染字符串
                        // listContent.innerHTML = html;
                        // 当前点击的选项 高亮
                    }
                }
            }
        }

        li3.onclick = function(){
            var xhr = new XMLHttpRequest();
            // 2.0 发起请求动作
            // 参数1：请求数据的方式  参数2：请求数据地址 参数3：布尔值（判断是否异步的）
            xhr.open('get','./json/green.txt',true);
            // 3.0 发送请求主体（向服务端发送请求）
            // 如果是get请求方式  xhr.send(填写null)
            xhr.send(null);
            // 4.0 监听请求和响应的状态
            xhr.onreadystatechange = function(){
                // 5.0 表示请求完成的属性（状态值） 等于4表示完成
                if(xhr.readyState === 4 ){
                    // 6.0 表示响应成功的属性（状态值） 状态码列表 等于200表示成功
                    if(xhr.status === 200){// 404 、 500 、
                        // 7.0 服务端响应的数据
                        var res = xhr.responseText;
                        // 8.0 JSON有个方法 可以把json格式的字符串转成json对象
                        // json数据
                        var data = JSON.parse(res);
                        console.log(data);

                        // 定义空字符串
                        // var html = "";
                        // 循环数据 data
                        for(var i = 0 ; i < data.length ; i ++){
                            // 字符串的拼接
                            // html += "<li style='background-color:"+data[i].color+";'></li>"
                            li3.style.backgroundColor=data[i].color
                            li3.style.position = data[i].position
                            li3.style.top = data[i].top
                            li3.style.left = data[i].left
                        }
                        // 渲染字符串
                        // listContent.innerHTML = html;
                        // 当前点击的选项 高亮
                    }
                }
            }
        }
    </script>
</body>
</html>